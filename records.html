<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Records - Automation Playground</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // Initialize DataTable
  $('#recordsTable').DataTable({
    pageLength: 5
  });

  // Populate table with URL parameters
  const params = new URLSearchParams(window.location.search);
  if(params.toString()){
    const table = document.getElementById('recordsBody');
    const row = document.createElement('tr');

    // Helper to get checkbox/radio multi-values
    function getMultiValue(name){
      const vals = params.getAll(name);
      return vals.length ? vals.join(', ') : '';
    }

    const cells = [
      params.get('fullname'),
      params.get('email'),
      params.get('phone'),
      params.get('country'),
      params.get('state'),
      params.get('city'),
      getMultiValue('skills'),
      params.get('experience'),
      params.get('dob'),
      params.get('time'),
      params.get('datetime'),
      params.get('month'),
      params.get('week'),
      params.get('favcolor'),
      params.get('volume'),
      params.get('search')
    ];

    cells.forEach(text=>{
      const td = document.createElement('td');
      td.textContent = text || '';
      td.className = 'px-4 py-2 border';
      row.appendChild(td);
    });

    table.appendChild(row);
  }
});
</script>

</head>
<nav class="bg-purple-400 p-4 text-white">
  <ul class="flex space-x-4">
    <li><a href="index.html" class="hover:underline">Home</a></li>
    <li><a href="demo-form.html" class="hover:underline">Demo Form</a></li>
    <li><a href="records.html" class="hover:underline">Records</a></li>
    <li><a href="fields.html" class="hover:underline">Fields</a></li>
    <li><a href="order.html" class="hover:underline">Order Creation</a></li>
  </ul>
</nav>  
<body class="bg-gray-100 p-6">

<div class="max-w-6xl mx-auto bg-white shadow-md rounded p-6 space-y-6">
  <h2 class="text-3xl font-bold text-center">Submitted Records</h2>

  <div class="overflow-x-auto">
    <table id="recordsTable" class="min-w-full border text-left">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-4 py-2 border">Full Name</th>
          <th class="px-4 py-2 border">Email</th>
          <th class="px-4 py-2 border">Phone</th>
          <th class="px-4 py-2 border">Country</th>
          <th class="px-4 py-2 border">State</th>
          <th class="px-4 py-2 border">City</th>
          <th class="px-4 py-2 border">Skills</th>
          <th class="px-4 py-2 border">Experience</th>
          <th class="px-4 py-2 border">DOB</th>
          <th class="px-4 py-2 border">Time</th>
          <th class="px-4 py-2 border">Datetime</th>
          <th class="px-4 py-2 border">Month</th>
          <th class="px-4 py-2 border">Week</th>
          <th class="px-4 py-2 border">Fav Color</th>
          <th class="px-4 py-2 border">Volume</th>
          <th class="px-4 py-2 border">Search</th>
        </tr>
      </thead>
      <tbody id="recordsBody">
        <!-- Data populated via URL parameters -->
      </tbody>
    </table>
  </div>
</div>

</body>
</html>
