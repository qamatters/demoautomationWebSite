<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Healthcare Appointment Booking</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">

<!-- Navbar -->
<nav class="bg-purple-700 text-white">
  <ul class="flex p-4 space-x-4">
    <li><a href="../../index.html" class="hover:bg-purple-800 rounded px-3 py-2">Home</a></li>
    <li><a href="../Forms/demo-form.html" class="hover:bg-purple-800 rounded px-3 py-2">Demo Form</a></li>
    <li><a href="../Forms/records.html" class="hover:bg-purple-800 rounded px-3 py-2">Records</a></li>
    <li><a href="../../fields.html" class="font-bold hover:bg-purple-800 rounded px-3 py-2">Fields</a></li>
    <li><a href="../ecommerce/order.html" class="hover:bg-purple-800 rounded px-3 py-2">Order Creation</a></li>
  </ul>
</nav>

<div class="container mx-auto mt-10 p-6 bg-white shadow-md rounded-md max-w-lg">
  <h2 class="text-2xl font-semibold mb-6 text-center">Book a Patient Appointment</h2>
  
  <form id="appointmentForm" class="space-y-4">
    <div>
      <label for="department" class="block font-medium mb-1">Department:</label>
      <select id="department" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
        <option value="">--Select Department--</option>
        <option value="Cardiology">Cardiology</option>
        <option value="Dermatology">Dermatology</option>
        <option value="General">General</option>
        <option value="Neurology">Neurology</option>
      </select>
    </div>

    <div>
      <label for="doctor" class="block font-medium mb-1">Doctor:</label>
      <select id="doctor" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
        <option value="">--Select Doctor--</option>
      </select>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label for="date" class="block font-medium mb-1">Appointment Date:</label>
        <input type="date" id="date" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
      </div>
      <div>
        <label for="time" class="block font-medium mb-1">Appointment Time:</label>
        <input type="time" id="time" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
      </div>
    </div>

    <div>
      <label for="name" class="block font-medium mb-1">Patient Name:</label>
      <input type="text" id="name" placeholder="Enter your name" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
    </div>

    <div>
      <label for="contact" class="block font-medium mb-1">Contact Number:</label>
      <input type="tel" id="contact" placeholder="Enter your contact" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
    </div>

    <div>
      <label for="symptoms" class="block font-medium mb-1">Symptoms / Reason:</label>
      <textarea id="symptoms" rows="3" placeholder="Describe symptoms" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required></textarea>
    </div>

    <button type="submit" class="w-full bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800 transition">Book Appointment</button>
  </form>

  <div class="mt-6 p-4 bg-gray-100 rounded-md hidden" id="confirmation"></div>
</div>

<!-- Toast Notification -->
<div id="toast" class="fixed top-5 right-5 bg-green-500 text-white px-6 py-3 rounded shadow-lg flex items-center space-x-3 transform translate-x-20 opacity-0 transition-all duration-500">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
  </svg>
  <span>Your appointment has been booked successfully!</span>
  <button id="closeToast" class="ml-4 text-white font-bold hover:text-gray-200">&times;</button>
</div>

<script>
  const departmentDoctors = {
    "Cardiology": ["Dr. Sharma", "Dr. Verma"],
    "Dermatology": ["Dr. Singh", "Dr. Kapoor"],
    "General": ["Dr. Mehta", "Dr. Rao"],
    "Neurology": ["Dr. Nair", "Dr. Gupta"]
  };

  const departmentSelect = document.getElementById("department");
  const doctorSelect = document.getElementById("doctor");
  const form = document.getElementById("appointmentForm");
  const confirmationDiv = document.getElementById("confirmation");
  const toast = document.getElementById("toast");
  const closeToast = document.getElementById("closeToast");

  departmentSelect.addEventListener("change", function() {
    const doctors = departmentDoctors[this.value] || [];
    doctorSelect.innerHTML = "<option value=''>--Select Doctor--</option>";
    doctors.forEach(doc => {
      const option = document.createElement("option");
      option.value = doc;
      option.textContent = doc;
      doctorSelect.appendChild(option);
    });
  });

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    // Show toast with slide-in/fade-in
    toast.classList.remove("translate-x-20", "opacity-0");
    toast.classList.add("translate-x-0", "opacity-100");

    // Auto-hide toast after 3s
    const toastTimeout = setTimeout(() => {
      toast.classList.remove("translate-x-0", "opacity-100");
      toast.classList.add("translate-x-20", "opacity-0");
    }, 3000);

    // Close button functionality
    closeToast.onclick = () => {
      clearTimeout(toastTimeout);
      toast.classList.remove("translate-x-0", "opacity-100");
      toast.classList.add("translate-x-20", "opacity-0");
    };

    // Show detailed confirmation below form
    confirmationDiv.classList.remove("hidden");
    confirmationDiv.innerHTML = `
      <h3 class="text-lg font-semibold mb-2">Appointment Confirmed!</h3>
      <p><strong>Patient:</strong> ${document.getElementById("name").value}</p>
      <p><strong>Department:</strong> ${departmentSelect.value}</p>
      <p><strong>Doctor:</strong> ${doctorSelect.value}</p>
      <p><strong>Date & Time:</strong> ${document.getElementById("date").value} ${document.getElementById("time").value}</p>
      <p><strong>Contact:</strong> ${document.getElementById("contact").value}</p>
      <p><strong>Symptoms:</strong> ${document.getElementById("symptoms").value}</p>
    `;

    form.reset();
  });
</script>

</body>
</html>
